Did most of this from scratch. Below implementation looks cleaner.

https://www.sitepoint.com/heap-data-structure-ruby/